<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
        <link rel="icon" type="image/png" href="./logo.png">
        <title>SVG Text width test page</title>
        <script>
            var testString = "Vestibulum neque massa, scelerisque sit amet ligula eu, congue molestie mi.";
            function onLoadSvg() {
                var width;
                var svgNS = "http://www.w3.org/2000/svg";
                var txtNode = document.createTextNode(testString);
                text = document.createElementNS(svgNS,"text");

                text.setAttribute("x",100);
                text.setAttribute("y",100);
                text.setAttribute("fill","black");
                text.setAttribute("font-size","10px");
                text.setAttribute("font-family","Arial");
                text.appendChild(txtNode);                                              
                document.getElementById("main").appendChild(text);
                width = text.getComputedTextLength();
                console.log(" Width from SVG: "+  width)
                width = text.getBBox().width;
                console.log(" Width with BBox: "+  width)
                width = text.getBoundingClientRect().width;
                console.log(" Width with BoundingClientRect: "+  width)
                //document.getElementById("main").removeChild(text);
            }

            function onLoadCanvas() {
                var width;
                var canvas = document.getElementById("canvas");
                var context = canvas.getContext("2d");
                context.font = "10px Arial";
                context.fillText(testString, 100, 100);

                width = context.measureText(testString).width;
                console.log(" Width from canvas: "+  width);
            }
        </script>
    </head>
    <body onload="onLoadCanvas();">
        <div id="content" style="margin: auto; width: 100%;">
            <svg
                id="main"
                xmlns="http://www.w3.org/2000/svg" 
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="300"
                height="300"
                onload="onLoadSvg()"
            ></svg>
            <canvas
                id="canvas"
                width="300"
                height="300"
                onload="onLoadCanvas()"
            ></canvas>
        </div>
    </body>
</html>